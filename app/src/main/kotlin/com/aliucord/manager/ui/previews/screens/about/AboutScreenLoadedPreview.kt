package com.aliucord.manager.ui.previews.screens.about

import android.content.res.Configuration
import androidx.compose.runtime.*
import androidx.compose.ui.tooling.preview.*
import com.aliucord.manager.network.models.Contributor
import com.aliucord.manager.ui.components.ManagerTheme
import com.aliucord.manager.ui.screens.about.AboutScreenContent
import com.aliucord.manager.ui.screens.about.AboutScreenState
import com.aliucord.manager.ui.util.emptyImmutableList
import com.aliucord.manager.util.serialization.ImmutableListSerializer
import kotlinx.collections.immutable.*
import kotlinx.serialization.json.Json

// This preview has scrollable content that cannot be properly viewed from an IDE preview

@Composable
@Preview(uiMode = Configuration.UI_MODE_NIGHT_YES)
@Preview(uiMode = Configuration.UI_MODE_NIGHT_NO)
private fun AboutScreenLoadedPreview(
    @PreviewParameter(ContributorsProvider::class)
    contributors: ImmutableList<Contributor>,
) {
    ManagerTheme {
        AboutScreenContent(
            state = remember { mutableStateOf(AboutScreenState.Loaded(contributors)) },
        )
    }
}

private class ContributorsProvider : PreviewParameterProvider<ImmutableList<Contributor>> {
    private val realDataRaw =
        "[{\"username\":\"Juby210\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/31005896?v=4\",\"commits\":334,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":184},{\"name\":\"Aliucord-backend\",\"commits\":65},{\"name\":\"DiscordRN\",\"commits\":17},{\"name\":\"AliucordRN\",\"commits\":12},{\"name\":\"DiscordThemer\",\"commits\":8},{\"name\":\"buildtool\",\"commits\":7},{\"name\":\"plugins-template\",\"commits\":7},{\"name\":\"libzip\",\"commits\":5},{\"name\":\"Manager\",\"commits\":5},{\"name\":\"hook\",\"commits\":5},{\"name\":\"dokka\",\"commits\":4},{\"name\":\"gradle\",\"commits\":4},{\"name\":\"plugin-requests\",\"commits\":3},{\"name\":\"rollup-plugin-hermes\",\"commits\":3},{\"name\":\"rollup-plugin-aliucord\",\"commits\":2},{\"name\":\"debug-ws-server\",\"commits\":1},{\"name\":\"AliucordRNXposed\",\"commits\":1},{\"name\":\"AliucordNative\",\"commits\":1}]},{\"username\":\"rushiiMachine\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/33725716?v=4\",\"commits\":311,\"repositories\":[{\"name\":\"Manager\",\"commits\":184},{\"name\":\"Aliucord\",\"commits\":50},{\"name\":\"binary-resources\",\"commits\":27},{\"name\":\"plugins-webhook\",\"commits\":18},{\"name\":\"hook\",\"commits\":7},{\"name\":\"AliucordRN\",\"commits\":5},{\"name\":\"plugins\",\"commits\":4},{\"name\":\"gradle\",\"commits\":3},{\"name\":\"rollup-plugin-hermes\",\"commits\":3},{\"name\":\"Aliucord-backend\",\"commits\":2},{\"name\":\"ban-appeals\",\"commits\":2},{\"name\":\"AliucordNative\",\"commits\":2},{\"name\":\"rollup-plugin-aliucord\",\"commits\":2},{\"name\":\".github\",\"commits\":2}]},{\"username\":\"Vendicated\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/45497981?v=4\",\"commits\":229,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":123},{\"name\":\"AliucordRN\",\"commits\":19},{\"name\":\"hook\",\"commits\":19},{\"name\":\"Aliucord-backend\",\"commits\":15},{\"name\":\"plugins-template\",\"commits\":11},{\"name\":\"Manager\",\"commits\":8},{\"name\":\"AliucordNative\",\"commits\":6},{\"name\":\"documentation\",\"commits\":5},{\"name\":\"rollup-plugin-aliucord\",\"commits\":5},{\"name\":\"buildtool\",\"commits\":4},{\"name\":\"ban-appeals\",\"commits\":3},{\"name\":\"AliucordRNBootstrap\",\"commits\":3},{\"name\":\"plugin-template-rn\",\"commits\":3},{\"name\":\"AliuTube\",\"commits\":2},{\"name\":\"plugin-requests\",\"commits\":1},{\"name\":\"dokka\",\"commits\":1},{\"name\":\"debug-ws-server\",\"commits\":1}]},{\"username\":\"js6pak\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/35262707?v=4\",\"commits\":121,\"repositories\":[{\"name\":\"DiscordRN\",\"commits\":68},{\"name\":\"gradle\",\"commits\":26},{\"name\":\"AliucordRN\",\"commits\":10},{\"name\":\"Aliucord\",\"commits\":9},{\"name\":\"rollup-plugin-aliucord\",\"commits\":4},{\"name\":\"AliucordNative\",\"commits\":2},{\"name\":\"AliucordRNXposed\",\"commits\":1},{\"name\":\"rollup-plugin-hermes\",\"commits\":1}]},{\"username\":\"zt64\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/31907977?v=4\",\"commits\":66,\"repositories\":[{\"name\":\"Manager\",\"commits\":48},{\"name\":\"Aliucord\",\"commits\":18}]},{\"username\":\"TymanWasTaken\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/32660892?v=4\",\"commits\":31,\"repositories\":[{\"name\":\"aliucordrn-cli\",\"commits\":13},{\"name\":\"plugins\",\"commits\":6},{\"name\":\"AliucordRN\",\"commits\":4},{\"name\":\"Aliucord\",\"commits\":2},{\"name\":\"Manager\",\"commits\":1},{\"name\":\"debug-ws-server\",\"commits\":1},{\"name\":\"rollup-plugin-hermes\",\"commits\":1},{\"name\":\"AliucordNative\",\"commits\":1},{\"name\":\"rollup-plugin-aliucord\",\"commits\":1},{\"name\":\"plugin-template-rn\",\"commits\":1}]},{\"username\":\"X1nto\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/48173186?v=4\",\"commits\":16,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":12},{\"name\":\"buildtool\",\"commits\":2},{\"name\":\"Manager\",\"commits\":1},{\"name\":\"DiscordRN\",\"commits\":1}]},{\"username\":\"Drownbywind\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/29250530?v=4\",\"commits\":12,\"repositories\":[{\"name\":\"documentation\",\"commits\":12}]},{\"username\":\"nikosszzz\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/53112175?v=4\",\"commits\":12,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":9},{\"name\":\"rollup-plugin-hermes\",\"commits\":1},{\"name\":\"AliucordNative\",\"commits\":1},{\"name\":\"rollup-plugin-aliucord\",\"commits\":1}]},{\"username\":\"wingio\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/44992537?v=4\",\"commits\":12,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":9},{\"name\":\"Manager\",\"commits\":2},{\"name\":\"AliucordRN\",\"commits\":1}]},{\"username\":\"GangsterFox\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/84905506?v=4\",\"commits\":11,\"repositories\":[{\"name\":\"documentation\",\"commits\":11}]},{\"username\":\"mantikafasi\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/67705577?v=4\",\"commits\":11,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":11}]},{\"username\":\"janisslsm\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/97699850?v=4\",\"commits\":11,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":4},{\"name\":\"AliucordNative\",\"commits\":3},{\"name\":\"hook\",\"commits\":2},{\"name\":\"Manager\",\"commits\":1},{\"name\":\"rollup-plugin-aliucord\",\"commits\":1}]},{\"username\":\"C10udburst\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/18114966?v=4\",\"commits\":9,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":6},{\"name\":\"plugins-template\",\"commits\":1},{\"name\":\"AliucordNative\",\"commits\":1},{\"name\":\"plugin-template-rn\",\"commits\":1}]},{\"username\":\"Kyza\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/40003440?v=4\",\"commits\":8,\"repositories\":[{\"name\":\"plugins-template\",\"commits\":8}]},{\"username\":\"pylixonly\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/82711525?v=4\",\"commits\":8,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":6},{\"name\":\"AliucordNative\",\"commits\":1},{\"name\":\"rollup-plugin-aliucord\",\"commits\":1}]},{\"username\":\"LampDelivery\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/158360149?v=4\",\"commits\":8,\"repositories\":[{\"name\":\"documentation\",\"commits\":8}]},{\"username\":\"Ushie\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/79272171?v=4\",\"commits\":7,\"repositories\":[{\"name\":\"Manager\",\"commits\":7}]},{\"username\":\"nyakowint\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/24845294?v=4\",\"commits\":6,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":3},{\"name\":\"plugin-requests\",\"commits\":1},{\"name\":\"documentation\",\"commits\":1},{\"name\":\"Manager\",\"commits\":1}]},{\"username\":\"hairyfred\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/30961255?v=4\",\"commits\":5,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":4},{\"name\":\"Aliucord-backend\",\"commits\":1}]},{\"username\":\"OmegaSunkey\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/94485936?v=4\",\"commits\":5,\"repositories\":[{\"name\":\"Aliucord-backend\",\"commits\":3},{\"name\":\"Aliucord\",\"commits\":1},{\"name\":\"AliucordRN\",\"commits\":1}]},{\"username\":\"Swishilicous\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/52143580?v=4\",\"commits\":3,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":2},{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"MrSpidercat\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/41306077?v=4\",\"commits\":3,\"repositories\":[{\"name\":\"documentation\",\"commits\":3}]},{\"username\":\"RhyMegu\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/95598076?v=4\",\"commits\":3,\"repositories\":[{\"name\":\"documentation\",\"commits\":3}]},{\"username\":\"terabyte25\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/23338617?v=4\",\"commits\":2,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":2}]},{\"username\":\"scrazzz\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/70033559?v=4\",\"commits\":2,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":2}]},{\"username\":\"kasefuchs\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/64592097?v=4\",\"commits\":2,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1},{\"name\":\"gradle\",\"commits\":1}]},{\"username\":\"Kyiro\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/54126666?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"Aunali321\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/48486084?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Manager\",\"commits\":1}]},{\"username\":\"Cynosphere\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/1606710?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":1}]},{\"username\":\"Alvari-Kupari\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/138302953?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"FieryFlames\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/30497388?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":1}]},{\"username\":\"maisymoe\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/61095277?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":1}]},{\"username\":\"Wolfkid200444\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/32025746?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"unxcepted\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/28658966?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"sravan1946\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/57430307?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"Enovale\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/17408285?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Manager\",\"commits\":1}]},{\"username\":\"ScrubN\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/72096833?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"aarondoet\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/42084688?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"sepruko\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/33651534?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"adntaha\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/63275405?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":1}]},{\"username\":\"danik4985\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/82022495?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"Aliucord\",\"commits\":1}]},{\"username\":\"myumichi\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/156945548?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"documentation\",\"commits\":1}]},{\"username\":\"tacohitbox\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/87399016?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"AliuTube\",\"commits\":1}]},{\"username\":\"Martinz64\",\"avatarUrl\":\"https://avatars.githubusercontent.com/u/24656265?v=4\",\"commits\":1,\"repositories\":[{\"name\":\"AliucordRN\",\"commits\":1}]}]"
    private val realData = Json.decodeFromString(ImmutableListSerializer(Contributor.serializer()), realDataRaw)

    override val values = sequenceOf(
        emptyImmutableList<Contributor>(),
        persistentListOf(
            Contributor(
                username = "abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz",
                avatarUrl = "UNUSED",
                commits = Int.MAX_VALUE,
                repositories = (realData[0].repositories + realData[0].repositories).toImmutableList(),
            )
        ),
        realData,
    )
}
